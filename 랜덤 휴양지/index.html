<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>직업 추천</title>
    <!--css 파일 연결-->
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    

    <div id="container">
        <!--이름을 물어보는모달창 만들기-->
        <div id="name-modal">
            <h3>이름을 입력해주세요</h3>
            <input type="text" name=""  id="username">
            <input type="button" value="확인" onclick="getUsername()">
        </div>

        <!--세부 컨텐츠(인사말, 포춘쿠키 이미지, 운세 결과)-->
        <div id="contents" class="hide">
            <!--인사말 만들기-->
            <div class="greeting">
                <h2><span id="name"></span>님 환영합니다.</h2>
                <h2>미래 직업을 추천해드리겠습니다.</h2>
            </div>
            <!--포춘쿠키 이미지 넣기-->
            <div id="box-container">
                <div class="box">
                    <img 
                    src="./운동선수3).jpg" 
                    alt="아시아"
                    onclick="selectCookie(1)"
                    style=""
                    >
                </div>
                <div class="box">
                    <img src="./공구1.jpg" alt="포춘쿠키"
                    onclick="selectCookie(2)"
                    >
                   
                </div>
                <div class="box">
                    <img src="./전문직(3).jpg" alt="포춘쿠키"
                    onclick="selectCookie(3)">
                </div>
            </div>
            <!--포춘쿠키 운세 결과 보여주기--> 
            <div id="result-message">운세 결과 메세지 창입니다.
                
            </div>
        </div>
    </div>
    <!--자바스크립트 코드-->
    <script>
        function getUsername() {
            const input =document.getElementById('username')
            console.log(input.value)//input texxt 요소에 작성한 이름가져오기
            const username = input.value.toString()
            if(username.length == 0) {
                //만약에 사용자가 이름을 입력하지 않았다면
                //경고창 띄우기
                //lentgh:글자의 길이
                //toString 업어도 괜찮

                window.alert('이름을 입력해주세요!')

            } else {
                const span =document.getElementById("name")
                span.innerText = username //span 태그 안에 사용자 이름 넣기

                const modal= document.getElementById('name-modal')
                const contents=document.getElementById('contents')

                //modal에 hide 클래스 속성 넣기
                modal.classList.add('hide')
                //contents에 hide 클래스 속성 삭제하기
                contents.classList.remove('hide')
                
            }
        }
        //포춘쿠키가 선택되었는지 확인하는 리스트
        const selected = [false, false, false]
        function selectCookie(number) {
            //선택되지 않았을 때
           if(selected[number-1] == false) {
            console.log(event.target) // 클릭을 한 요소
            //window, console, document, event => 자바스크립트에서 제공해주는 객체
            const target=event.target
            //target은 img 태그이므로 이미지가 있는 위치인 src 속성에 접근할 수 있다
            target.src = "./fortune-cookie-after.png"
            //포춘쿠키가 선택되었다는 표시하기
            selected[number-1]=true
            //운세 메세지 보여주기
            showMessage()

           } else {
            window.alert('이미 선택된 쿠키입니다!!')
           }
            
        }
        //운세 결과를 메세지창에 띄워주기
        const messages = [
            '오래 전에 베푼 작은 친절이 눈덩이처럼 커져 행운으로 너에게 돌아올 예정.',
            '시간 낭비라고 생각했던 일들이 위기의 순간 나에게 큰 도움이 된다.',
            '알지 못했던 나의 능력을 찾아내서 모두가 깜짝 놀랄 만한 일을 하게 된다.',
            '정말 마음껏 열심히 해봐도 좋다. 노력한 만큼 그대로 결과가 나타나서 너무나 뿌듯한 순간이 찾아온다',
            '내가 안 좋았다고 생각했던 일 덕분에 오히려 더 큰 도움을 받을 일이 생긴다',
            '그 동안 망설였던 걸, 바로 해볼 것.망설인 시간만큼이나 내가 전혀 예상하지 못한 놀라운 결과를 만날 것이다.',
            '보기만 해도 웃음이 터지는 너무 재미있는 친구를 새로 만나게 된다.',
            '나랑 닮은 부분이 너무나 많은 소울메이트를 만나게 된다. 금방 너를 찾아올 예정'
        ]
        function showMessage(){
            const result = document.getElementById("result-message")
            //랜덤한 인덱스를 반환해준다.
            let idx = getRandomInt(0, messages.length)//len(message)
            //운세 결과 창에 랜덤한 운세 매세지를 넣어준다.
            result.innerText = messages[idx]
        }

        
    </script>
</body>
</html>
